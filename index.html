<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Life Restart ‚Äì DKU</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <h1>Life Restart ‚Äì Duke Kunshan University</h1>
  <div id="screen"></div>

<script>
let state = { int:50, health:100, happy:50, events:[], step:'intro' };
const screen = document.getElementById('screen');

// Êú¨Âú∞‰∫ã‰ª∂Â∫ìÔºà‰∏éÂêéÁ´Ø‰∏ÄÊ†∑Ôºâ
const EVENTS = {
  intro: {
    text: 'You reincarnate at DKU. Choose your major:',
    options: [
      {text:'Computer Science', goto:'cs_track'},
      {text:'Art & Humanity',   goto:'art_track'}
    ]
  },

  /* ÂâçÁ´ØÔºå‰øùÊåÅ‰∏éÂêéÁ´ØÂêåÂêçÂêåÁªìÊûÑ */
  cs_track: { text:'First CS class. What do you do?', options:[{text:'Listen carefully & ask TA',goto:'cs_gift'},{text:'Slack off in class',goto:'cs_miss'},{text:'Play computer games',goto:'cs_warn'}]},
  cs_gift: {text:'Received the "Java Beginner\'s Manual" as a gift!', effect:{int:15,happy:5,health:0}, goto:'cs_group'},
  cs_miss: {text:'You missed the key point.', effect:{int:-5,happy:-5,health:0}, goto:'cs_group'},
  cs_warn: {text:'Be warned by the teacher.', options:[{text:'Change',goto:'cs_group'},{text:'Unrepentant',goto:'bad_ending1'}]},
  cs_group: {text:'CS group assignment. How do you contribute?', options:[{text:'Actively split tasks',goto:'cs_early'},{text:'Ask teammates for help',goto:'cs_learn'},{text:'Slack off & copy PPT',goto:'bad_ending2'}]},
  cs_early: {text:'Finish early! Learn core syntax.', effect:{int:10,happy:10,health:0}, goto:'cs_midterm'},
  cs_learn: {text:'Learn core syntax together.', effect:{int:8,happy:5,health:0}, goto:'cs_midterm'},
  cs_midterm: {text:'CS Midterm preparation?', options:[{text:'Group study + tutor',goto:'cs_high'},{text:'Review lectures + exercises',goto:'cs_high'},{text:'Last-minute cramming',goto:'cs_average'},{text:'No review, take exam',goto:'bad_ending3'}]},
  cs_high: {text:'Get high points!', effect:{int:15,happy:10,health:5}, goto:'cs_extracurricular'},
  cs_average: {text:'Score average.', effect:{int:5,happy:0,health:-5}, goto:'cs_extracurricular'},
  cs_extracurricular:{text:'CS extracurricular. Pick one:', options:[{text:'ACM Competition & meet senior',goto:'cs_acm'},{text:'IT Support part-time job',goto:'cs_it'},{text:'Stay in dorm',goto:'cs_dorm'}]},
  cs_acm:{text:'Senior invites you to solve problems?', options:[{text:'Cooperate',goto:'cs_good'},{text:'Compete alone',goto:'cs_normal'}]},
  cs_it:{text:'Gain hardware skills. How to use salary?', options:[{text:'Java advanced course',goto:'cs_good'},{text:'Buy gifts for parents',goto:'cs_parents'}]},
  cs_dorm:{text:'Stay in dorm. Evening plan?', options:[{text:'Read tech blogs',goto:'cs_good'},{text:'Play games all night',goto:'bad_ending5'}]},
  cs_parents:{text:'Parents support you. Next step?', options:[{text:'Treat roommates to hotpot',goto:'hotpot_ending'},{text:'Buy gaming gear',goto:'gaming_ending'}]},
  cs_good:{ending:'üéì CS Good Ending: Successful Tech Career'},
  cs_normal:{ending:'üòê CS Normal Ending: Average Graduate'},

  art_track:{text:'First Art & Humanity lecture. What do you do?', options:[{text:'Actively discuss with professor',goto:'art_gift'},{text:'Doodle in notebook',goto:'art_doodle'},{text:'Scroll social media',goto:'art_warn'}]},
  art_gift:{text:'Received "Philosophy, Art & Culture for Beginners" as a gift!', effect:{int:5,happy:15,health:0}, goto:'art_group'},
  art_doodle:{text:'You missed the key discussion.', effect:{int:0,happy:-5,health:0}, goto:'art_group'},
  art_warn:{text:'Be warned by the professor.', options:[{text:'Change',goto:'art_group'},{text:'Unrepentant',goto:'bad_ending1'}]},
  art_group:{text:'Art group project. How do you contribute?', options:[{text:'Actively split tasks & brainstorm',goto:'art_early'},{text:'Ask teammates for help & feedback',goto:'art_learn'},{text:'Slack off & only copy PPT',goto:'bad_ending2'}]},
  art_early:{text:'Finish early! Enhance creativity.', effect:{int:5,happy:15,health:5}, goto:'art_midterm'},
  art_learn:{text:'Learn artistic techniques together.', effect:{int:3,happy:10,health:0}, goto:'art_midterm'},
  art_midterm:{text:'Art Midterm preparation?', options:[{text:'Visit gallery with classmates',goto:'art_high'},{text:'Practice sketches daily',goto:'art_high'},{text:'Last-minute cramming',goto:'art_average'},{text:'Skip prep, wing it',goto:'bad_ending3'}]},
  art_high:{text:'Create stunning portfolio piece!', effect:{int:8,happy:20,health:5}, goto:'art_extracurricular'},
  art_average:{text:'Average critique, room for growth.', effect:{int:3,happy:5,health:-5}, goto:'art_extracurricular'},
  art_extracurricular:{text:'Art extracurricular. Pick one:', options:[{text:'Gallery internship & curator talk',goto:'art_gallery'},{text:'Freelance design gigs',goto:'art_freelance'},{text:'Stay in studio',goto:'art_studio'}]},
  art_gallery:{text:'Curator invites you to co-host. Your choice?', options:[{text:'Collaborate fully',goto:'art_good'},{text:'Work alone',goto:'art_normal'}]},
  art_freelance:{text:'Earn first commission. How to use money?', options:[{text:'Art supplies masterclass',goto:'art_good'},{text:'Buy gifts for friends',goto:'art_friends'}]},
  art_studio:{text:'Late night in studio. Plan?', options:[{text:'Read art theory blogs',goto:'art_good'},{text:'Binge Netflix',goto:'bad_ending5'}]},
  art_friends:{text:'Friends thank you. Next step?', options:[{text:'Host art salon',goto:'art_good'},{text:'Buy fancy coffee',goto:'hotpot_ending'}]},
  art_good:{ending:'üé® Art Good Ending: Renowned Artist'},
  art_normal:{ending:'üòê Art Normal Ending: Freelancer'},

  bad_ending1:{ending:'üíÄ Bad Ending 1: GPA < 1.5'},
  bad_ending2:{ending:'üíÄ Bad Ending 2: Contribution 0'},
  bad_ending3:{ending:'üíÄ Bad Ending 3: Exam Fail'},
  bad_ending5:{ending:'üíÄ Bad Ending 5: All-nighter Downfall'},
  hotpot_ending:{ending:'üç≤ Bad Ending: Broke & Hungry'},
  gaming_ending:{ending:'üéÆ Bad Ending: Addicted'}
};

// Â∑•ÂÖ∑
function applyEffect(eff) {
  for (const k in eff) state[k] = Math.max(0, Math.min(100, state[k] + eff[k]));
}
function choose(step) {
  state.step = step;
  render(EVENTS[step]);
}
function render(node) {
  if (node.ending) {
    screen.innerHTML = `<h2>${node.ending}</h2><button onclick="location.reload()">Restart</button>`;
    return;
  }
  let html = `<h3>${node.text}</h3>`;
  if (node.options) {
    node.options.forEach(opt => {
      html += `<button onclick="choose('${opt.goto}')">${opt.text}</button>`;
    });
  }
  if (node.effect) {
    applyEffect(node.effect);
    setTimeout(() => render(EVENTS[node.goto]), 600);
    return;
  }
  html += `<hr><p>Int: ${state.int} | Health: ${state.health} | Happy: ${state.happy}</p>`;
  screen.innerHTML = html;
}
// ÂêØÂä®
render(EVENTS.intro);
</script>
</body>

</html>



body {
  font-family: Arial, sans-serif;
  background: 
    linear-gradient(rgba(0, 0, 50, 0.4), rgba(0, 0, 50, 0.4)), 
    url("https://dukekunshan.edu.cn/sites/default/files/styles/hero_xl/public/2021-09/DKU-Campus-View.jpg");
  background-size: cover;
  background-position: center;
  color: #fff;
  text-align: center;
  margin: 0;
  padding: 0;
}



h1 {
  background: rgba(0, 0, 60, 0.6);
  color: #fff;
  padding: 20px;
  margin: 0;
  font-size: 28px;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}

#screen {
  max-width: 600px;
  margin: 40px auto;
  padding: 20px;
  background: rgba(255, 255, 255, 0.85);
  border-radius: 15px;
  box-shadow: 0 6px 12px rgba(0,0,0,0.3);
  color: #222;
}

button {
  display: block;
  width: 80%;
  margin: 12px auto;
  padding: 14px;
  font-size: 18px;
  font-weight: bold;
  background: linear-gradient(135deg, #0066ff, #003d99);
  color: white;
  border: 2px solid #002b66;
  border-radius: 12px;
  cursor: pointer;
  transition: transform 0.2s, background 0.3s;
}

button:hover {
  background: linear-gradient(135deg, #3399ff, #0055cc);
  transform: scale(1.05);
}


.status-bar {
  margin: 12px 0;
  text-align: left;
  font-weight: bold;
  color: #222;
}

.status-bar label {
  display: block;
  margin-bottom: 4px;
}


.bar {
  width: 100%;
  height: 18px;
  background: #ddd;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: inset 0 2px 4px rgba(0,0,0,0.2);
}


.fill {
  height: 100%;
  background: linear-gradient(90deg, #3399ff, #0066cc);
  transition: width 0.5s ease;
}

.fill.health {
  background: linear-gradient(90deg, #ff6666, #cc0000);
}

.fill.happy {
  background: linear-gradient(90deg, #ffcc33, #ff9900);
}

